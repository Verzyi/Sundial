{% extends "base_builds.html" %} {% block title %}Builds{% endblock %} {% block
content %}
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<div id="build-container">
  <div id="build-info" class="build-section">
    <!-- Current Build Info -->
    <h4>Current Build Info</h4>
    <p>Build Number: N/A</p>
    <p>Created By: N/A</p>
    <p>Date Created: N/A</p>
  </div>
  <div id="button-container" class="controlButtons">
    <div id="btn-group" role="group">
      <button class="btn btn-primary" type="button">New build</button>
      <button class="btn btn-primary" type="button">Edit</button>
      <button class="btn btn-primary" type="button">Copy</button>
      <button class="btn btn-primary" type="button">Data Viewer</button>
      <button class="btn btn-primary" type="button">Traveler</button>
      <button class="btn btn-primary" type="button">Generate Serials</button>
      <button class="btn btn-primary" type="button">Attachments</button>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#buildSetupForm" style="margin-left: 50px">Build Setup</button>
    </div>
  </div>
</div>

<div class="containers">
  <div class="searchBuilds">
    <form id="facilityForm" action="/builds" method="POST">
      <select
        style="padding: 5px; margin-bottom: 5px; width: 250px"
        class="form-select text-center"
        id="Facility"
        name="Facility"
        onchange="updateFormAction(event)"
      >
        <option value="" disabled selected>Select Facility</option>
        <option>Austin</option>
        <option>Belton</option>
      </select>
      <input type="submit" value="Submit" style="display: none" />
    </form>

    <script>
      function updateFormAction(event) {
        let form = document.getElementById("facilityForm");
        let selectedOption = event.target.value;
        form.action = "/builds";
        form.method = "POST";
        let input = document.createElement("input");
        input.type = "hidden";
        input.name = "Facility";
        input.value = selectedOption;
        form.appendChild(input);
        form.submit();
      }

      const facilitySelect = document.getElementById("Facility");
      facilitySelect.addEventListener("change", updateFormAction);
    </script>

    <input style="width: 250px; padding: 5px" placeholder="Search Builds" />
    <div class="buildsTable">
      <table style="font-size: 12px" class="table table-hover">
        <thead>
          <tr class="table-active">
            <th style="border: 1px solid #ffffff">Build_ID</th>
            <th style="border: 1px solid #ffffff">Build Name</th>
          </tr>
        </thead>
        <tbody>
          {% for buildid in buildsInfo %}
          <tr class="table-active">
            <td style="border: 1px solid #ffffff">{{ buildid.BuildIt }}</td>
            <td style="border: 1px solid #ffffff">{{ buildid.BuildName }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-8">
    <!-- Rest of your content -->
  </div>
    <div class="container">
        <div id="buildSetupForm" class="collapse">
            <form action="/submit-form" method="POST">
                <div class="buildsetupForm">
                    <h5 class="text-center mb-4">Build Setup</h5>
                    <div class="row" class="container">
                    <div class="col-md-6">
                        <div class="mb-3 form-label2 text-center">
                        <label for="solidJobsBuildIDInput" class="form-label2"
                            >Solid Jobs Build ID:</label
                        >
                        <input
                            type="text"
                            class="form-control text-center"
                            id="solidJobsBuildIDInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="buildNameInput" class="form-label2"
                            >Build Name:</label
                        >
                        <input
                            type="text"
                            class="form-control text-center"
                            id="buildNameInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="machineInput" class="form-label2">Machine:</label>
                        <select class="form-select text-center" id="machineInput">
                            <option value="">Select Machine</option>
                            <!-- Add machine options dynamically -->
                            {% for machine in machines %}
                            <option value="{{ machine }}">{{ machine }}</option>
                            {% endfor %}
                        </select>
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="materialInput" class="form-label2">Material:</label>
                        <select class="form-select text-center" id="materialInput">
                            <option value="">Select Material</option>
                            <!-- Add material options dynamically -->
                            {% for material in materials %}
                            <option value="{{ material }}">{{ material }}</option>
                            {% endfor %}
                        </select>
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="scaleXInput" class="form-label2">Scale X:</label>
                        <input
                            type="text"
                            class="form-control text-center"
                            id="scaleXInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="scaleYInput" class="form-label2">Scale Y:</label>
                        <input
                            type="text"
                            class="form-control text-center"
                            id="scaleYInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="offsetInput" class="form-label2">Offset:</label>
                        <input
                            type="text"
                            class="form-control text-center"
                            id="offsetInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="layerInput" class="form-label2">Layer:</label>
                        <input
                            type="text"
                            class="form-control text-center"
                            id="layerInput"
                        />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3 form-label2 text-center">
                        <label for="platformTemperatureInput" class="form-label2">Platform Temperature:</label>
                        <input
                            type="text"
                            class="form-control text-center"
                            id="platformTemperatureInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="potentialBuildHeightInput" class="form-label2"
                            >Potential Build Height:</label
                        >
                        <input
                            type="text"
                            class="form-control text-center"
                            id="potentialBuildHeightInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="MinChargeAmountInput" class="form-label2"
                            >Min Charge Amount:</label
                        >
                        <input
                            type="text"
                            class="form-control text-center"
                            id="MinChargeAmountInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="MaxChangeAmountInput" class="form-label2"
                            >Max Change Amount:</label
                        >
                        <input
                            type="text"
                            class="form-control text-center"
                            id="MaxChangeAmountInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="DosingBoostAmountInput" class="form-label2"
                            >Dosing Boost Amount:</label
                        >
                        <input
                            type="text"
                            class="form-control text-center"
                            id="DosingBoostAmountInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                        <label for="RecoaterSpeedInput" class="form-label2"
                            >Recoater Speed:</label
                        >
                        <input
                            type="text"
                            class="form-control text-center"
                            id="RecoaterSpeedInput"
                        />
                        </div>
                        <div class="mb-3 form-label2 text-center">
                            <label for="ParameterRevInput" class="form-label2">Parameter Rev:</label>
                            <div class="input-group">
                              <div class="custom-file">
                                <input type="file" class="custom-file-input" id="ParameterRevInput">
                              </div>
                            </div>
                          </div>
                        <div class="mb-3 form-label2 text-center">
                            <label class="form-label2">Recoater Type:</label>
                            <select class="form-select" name="recoaterType">
                            <option value="blade">Blade</option>
                            <option value="blade">Brush</option>
                            <option value="silicone">Silicone (Clear)</option>
                            <option value="nbr">NBR (Black)</option>
                            </select>
                        </div>              
                        </div>
                        </div>
                        <button class="btn-primary" style="height: 30px; width: 1300px; ">Submit</button>
                    </div>
                    </div>
                </div>
                </form>
            </div> 
  </div>
  {% endblock %}
</div>
