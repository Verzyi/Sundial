{% extends "blend.html" %}
{% block title %}Inventory{% endblock %}
{% block content %}
<h1 class="text-center">Blend System - Inventory</h1>
<div class="container">
  <div class="d-flex justify-content-center mt-3">
    <div class="btn-group">
      <input
        type="radio"
        class="btn-check"
        name="btnradio"
        id="Search"
        autocomplete="off"
        onclick="window.location.href = '/searchBlends'"
      />
      <label class="btn btn-outline-primary" for="Search">Search</label>

      <input
        type="radio"
        class="btn-check"
        name="btnradio"
        id="New"
        autocomplete="off"
        onclick="window.location.href = '/createBlend'"
      />
      <label class="btn btn-outline-primary" for="New">Create Blend</label>

      <input
        type="radio"
        class="btn-check"
        name="btnradio"
        id="createBatch"
        autocomplete="off"
        onclick="window.location.href = '/createBatch'"
      />
      <label class="btn btn-outline-primary" for="createBatch">Create Batch</label>

      <input
        type="radio"
        class="btn-check"
        name="btnradio"
        id="History"
        autocomplete="off"
        onclick="window.location.href = '/BlendHistory'"
      />
      <label class="btn btn-outline-primary" for="History">History</label>

      <input
        type="radio"
        class="btn-check"
        name="btnradio"
        id="Inventory"
        autocomplete="off"
        checked
      />
      <label class="btn btn-outline-primary" for="Inventory">Inventory</label>
    </div>
  </div>

  <form action="{{ url_for('views.inventory') }}" method="POST" class="mt-4">
    <div class="form-group">
      <select
        name="material_name"
        class="form-select"
        id="material_name"
        style="text-align: center"
        onchange="this.form.submit()"
      >
        <option value="" {% if selected_material == '' %}selected{% endif %}>All Materials</option>
        {% for material in material_names %}
          <option value="{{ material }}" {% if selected_material == material %}selected{% endif %}>{{ material }}</option>
        {% endfor %}
      </select>
    </div>
  </form>

  <div class="table-responsive mt-4">
    <table class="table table-hover">
      <!-- Table headers -->
      <thead>
        <tr>
          <th>Blend ID</th>
          <th>Material</th>
          <th>Current Weight</th>
        </tr>
      </thead>
      <tbody>
        {% for blend_id, material_name, current_weight in inventory_data %}
          <tr>
            <td>{{ blend_id }}</td>
            <td>{{ material_name }}</td>
            <td>{{ current_weight }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <p class="text-end mt-3">Total Weight: {{ total_weight }}</p>

</div>
{% endblock %}
